<script>
    /**
    * Base behavior behind most of the elements in the application.
    *
    * @polymer
    * @mixinFunction
    */
    GompCoreMixin = (superClass) => class extends superClass {
        static get properties() {
            return {
                isReady: {
                    type: Boolean,
                    value: false,
                    notify: true,
                },
                isActive: {
                    type: Boolean,
                    value: false,
                    notify: true,
                    reflectToAttribute: true,
                    observer: '_isActiveChanged',
                },
                jwtToken: {
                    type: String,
                    notify: true,
                    observer: '_jwtTokenChanged',
                },
                ajaxHeaders: {
                    type: Object,
                    notify: true,
                    value: () => {},
                },
            };
        }

        ready() {
            super.ready();

            this.isReady = true;
        }

        showToast(message) {
            this.dispatchEvent(new CustomEvent('show-toast', {bubbles: true, composed: true, detail: {message: message}}));
        }

        _isActiveChanged(isActive) { }
        _jwtTokenChanged(jwtToken) {
            this.ajaxHeaders = {'Authorization': 'Bearer ' + jwtToken};
        }
    };
</script>
